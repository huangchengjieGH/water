<?php/* * 小程序用户信息基类控制器 */namespace app\api\controller;use app\api\service\CheckUser;use think\Controller;use app\api\service\FindRole;use app\api\validate\UIDGet;use app\lib\exception\ParameterException;class BaseController extends Controller{    protected function getUid()    {        (new UIDGet())->goCheck();        $User = FindRole::findUser();        if (!$User)        {            throw new ParameterException(                [                    'msg' => '没有指定需要操作的用户对象'                ]);        }        return $User;//        $data = $this->getUserMessage($token);//        $UserInfo = User::get($data->user_id)->getUserInfo;//        $message = ['user'=>$data,'userInfo'=>$UserInfo];//        return $message;    }    protected function getUserMessage($token)    {        $data = new CheckUser($token);        $userData =$data->checkUid();        return $userData;    }}