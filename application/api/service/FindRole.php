<?php/** * Created by PhpStorm. * User: THINK * Date: 2018/4/2 * Time: 14:38 */namespace app\api\service;use app\api\model\Shoperinfo;use app\api\model\Shop;use app\api\model\Userinfo;use think\Request;class FindRole{    // 查看用户角色，到底是普通用户，骑手 还是商家    public static function findRoleByUserID(){        $token = Request::instance()->header('token');        $user = self::getUserMessage($token);        $user_id = $user->user_id;        $role = $user->user_role;   // 用户角色区分 1 => 普通用户  2 => 骑手  3 => 商家        switch ($role){            case '2':      // 判断是否是骑手                $info = Shoperinfo::getByUserID($user_id);                if ($info){                    $info->role = 2;                }                break;            case '3':   // 断是否是商家                $info = Shop::getByUserID($user_id);                if ($info){                    $info->role = 3;                }                break;            default:        // 判断是否是普通用户                $info = Userinfo::getByUserID($user_id);                if ($info){                    $info->role = 1;                }                break;        }        return $info;    }    public static function findUser(){        $token = Request::instance()->param('token');        $user = self::getUserMessage($token);        return $user;    }    public static function getUserMessage($token)    {        $data = new CheckUser($token);        $userData =$data->checkUid();        return $userData;    }}